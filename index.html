<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Highlight Mode Sandbox</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #f9f9f9;
      color: #333;
    }
    #toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem 1rem;
      background: #eee;
      border-bottom: 1px solid #ccc;
    }
    #toolbar button {
      font-size: 18px;
      padding: 0.4rem 0.8rem;
      border: none;
      background: #ddd;
      border-radius: 4px;
      cursor: pointer;
    }
    #toolbar button:hover {
      background: #ccc;
    }
    #reader {
      padding: 1rem;
      line-height: 1.6;
      overflow-y: auto;
      height: calc(100vh - 60px);
    }
    .page {
      display: none;
    }
    .page.active {
      display: block;
    }
  </style>
</head>
<body>
  <div id="toolbar">
    <button id="menu-btn">â˜°</button>
    <span>Highlight Sandbox</span>
    <button id="toggle-mode">Scroll Mode</button>
  </div>

  <div id="reader"></div>

  <script>
    let isScrollMode = true;
    const toggleBtn = document.getElementById("toggle-mode");
    const reader = document.getElementById("reader");

    toggleBtn.addEventListener("click", () => {
      isScrollMode = !isScrollMode;
      toggleBtn.textContent = isScrollMode ? "Scroll Mode" : "Page Mode";
      renderText(sampleText);
    });

    const sampleText = Array(60).fill().map((_, i) => 
      `This is paragraph ${i + 1}. Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
       Quisque sit amet accumsan tortor. Donec vel vestibulum diam. Nulla facilisi. 
       Curabitur in finibus sapien. Integer nec justo euismod, suscipit nulla ac, 
       tincidunt quam. Phasellus feugiat facilisis elit, sed tempor nulla dapibus at.`
      `This is paragraph ${i + 1}. Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
       Quisque sit amet accumsan tortor. Donec vel vestibulum diam. Nulla facilisi. 
       Curabitur in finibus sapien. Integer nec justo euismod, suscipit nulla ac, 
       tincidunt quam. Phasellus feugiat facilisis elit, sed tempor nulla dapibus at.`\
       This is paragraph ${i + 1}. Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
       Quisque sit amet accumsan tortor. Donec vel vestibulum diam. Nulla facilisi. 
       Curabitur in finibus sapien. Integer nec justo euismod, suscipit nulla ac, 
       tincidunt quam. Phasellus feugiat facilisis elit, sed tempor nulla dapibus at.`
      `This is paragraph ${i + 1}. Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
       Quisque sit amet accumsan tortor. Donec vel vestibulum diam. Nulla facilisi. 
       Curabitur in finibus sapien. Integer nec justo euismod, suscipit nulla ac, 
       tincidunt quam. Phasellus feugiat facilisis elit, sed tempor nulla dapibus at.`
       This is paragraph ${i + 1}. Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
       Quisque sit amet accumsan tortor. Donec vel vestibulum diam. Nulla facilisi. 
       Curabitur in finibus sapien. Integer nec justo euismod, suscipit nulla ac, 
       tincidunt quam. Phasellus feugiat facilisis elit, sed tempor nulla dapibus at.`
      `This is paragraph ${i + 1}. Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
       Quisque sit amet accumsan tortor. Donec vel vestibulum diam. Nulla facilisi. 
       Curabitur in finibus sapien. Integer nec justo euismod, suscipit nulla ac, 
       tincidunt quam. Phasellus feugiat facilisis elit, sed tempor nulla dapibus at.`
    This is paragraph ${i + 1}. Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
       Quisque sit amet accumsan tortor. Donec vel vestibulum diam. Nulla facilisi. 
       Curabitur in finibus sapien. Integer nec justo euismod, suscipit nulla ac, 
       tincidunt quam. Phasellus feugiat facilisis elit, sed tempor nulla dapibus at.`
      `This is paragraph ${i + 1}. Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
       Quisque sit amet accumsan tortor. Donec vel vestibulum diam. Nulla facilisi. 
       Curabitur in finibus sapien. Integer nec justo euismod, suscipit nulla ac, 
       tincidunt quam. Phasellus feugiat facilisis elit, sed tempor nulla dapibus at.`
    );

    function renderText(paragraphs) {
      reader.innerHTML = "";
      if (isScrollMode) {
        paragraphs.forEach(text => {
          const p = document.createElement("p");
          p.textContent = text;
          reader.appendChild(p);
        });
        reader.style.overflowY = "auto";
      } else {
        paragraphs.forEach((text, i) => {
          const div = document.createElement("div");
          div.className = "page" + (i === 0 ? " active" : "");
          div.textContent = text;
          reader.appendChild(div);
        });
        reader.style.overflowY = "hidden";
        setupPageNavigation();
      }
    }

    function setupPageNavigation() {
      let currentPage = 0;
      document.addEventListener("keydown", e => {
        if (isScrollMode) return;
        const pages = document.querySelectorAll(".page");
        pages[currentPage].classList.remove("active");
        if (e.key === "ArrowRight") {
          currentPage = Math.min(currentPage + 1, pages.length - 1);
        } else if (e.key === "ArrowLeft") {
          currentPage = Math.max(currentPage - 1, 0);
        }
        pages[currentPage].classList.add("active");
      });
    }

    // Initial render
    renderText(sampleText);
  </script>
</body>
</html>
