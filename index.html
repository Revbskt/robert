<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My ePub Reader and Library</title>
  <meta name="viewport" content="width=device-width, maximum-scale=1.0, user-scalable=no" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.5/jszip.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/epubjs/dist/epub.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lunr/lunr.min.js"></script>
</head>
<body class="light-mode">
  <div id="library-container">
    <h1>ğŸ“š My Book Library</h1>
    <div id="library-controls">
      <button onclick="toggleLibrary(false)">Back to Reader</button>
    </div>
    <div id="library">Loading books...</div>
  </div>
  <div id="reader-container">
    <div id="toolbar">
      <button id="menu-toggle" title="Main Menu">â˜°</button>
      <button id="toc-toggle" title="Table of Contents">ğŸ“–</button>
      <button id="bookmark-toggle" title="Toggle Bookmark">â˜†</button>
      <button id="bookmark-dropdown" title="Bookmarks">ğŸ”–</button>
      <button id="compass-toggle" title="Page Navigator">ğŸ§­</button>
      <button id="settings-toggle" title="Read Settings">Aa</button>
      <button id="theme-toggle" title="Toggle Night Mode">ğŸŒ™</button>
    </div>

    <div id="bookmark-panel"></div>

    <div id="compass-panel">
      <h4>ğŸ“ Page Navigator</h4>
      <div class="location-info" id="location-info">Page ? of ? â€¢ CFI: â€¦</div>
      <input type="range" id="page-slider" min="0" max="100" value="0" />
      <input type="text" id="search-input" placeholder="Search textâ€¦" />
      <div class="search-results" id="search-results"></div>
    </div>

    <div id="menu-backdrop"></div>
    <div id="expanded-menu">
      <button class="close-menu" onclick="toggleMenu('menu')">Ã—</button>
      <div id="book-card">
        <img id="cover" alt="Book Cover" />
        <div id="book-title"></div>
        <div id="book-author"></div>
        <div id="contact-image"></div>
      </div>
      <button class="menu-button" onclick="toggleLibrary(true)">Library</button>
    </div>

    <div id="toc-panel"></div>

    <div id="settings-modal">
      <button class="close-settings" onclick="toggleMenu('settings')">Ã—</button>
      <h3>Reading Settings</h3>
      <label for="font-switcher">Font</label>
      <select id="font-switcher">
        <option value="-apple-system">San Francisco (System)</option>
        <option value="Helvetica Neue">Helvetica Neue</option>
        <option value="Arial">Arial</option>
        <option value="Courier New">Courier New</option>
        <option value="Georgia">Georgia</option>
        <option value="OpenDyslexic">OpenDyslexic</option>
      </select>
      <div class="font-size-buttons">
        <button onclick="changeFontSize(-1)">A-</button>
        <button onclick="changeFontSize(1)">A+</button>
      </div>
      <label for="reading-mode">Reading Mode</label>
      <select id="reading-mode">
        <option value="paginated">Page</option>
        <option value="scrolled-doc">Scroll</option>
        <option value="swipe">Swipe</option>
      </select>
      <label for="theme-select">Color Theme</label>
      <select id="theme-select">
        <option value="light">Light</option>
        <option value="sepia">Sepia</option>
        <option value="night">Night</option>
        <option value="matcha">Matcha Green</option>
      </select>
    </div>

    <div id="viewer">
      <div id="tap-left"></div>
      <div id="tap-right"></div>
      <div id="gesture-left"></div>
      <div id="gesture-right"></div>
    </div>

    <div id="progress-bar"></div>
    <div id="continue-bar">Continue</div>
  </div>

  <script src="reader.js"></script>
</body>
</html>
