<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My ePub Reader and Library</title>
  <meta name="viewport" content="width=device-width, maximum-scale=1.0, user-scalable=no" />

  <!-- External CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- JSZip and epub.js for the reader -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.5/jszip.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/epubjs/dist/epub.min.js"></script>

  <!-- Main reader logic -->
  <script src="reader.js" defer></script>
</head>

<body class="light-mode">
  <!-- LIBRARY CONTAINER -->
  <div id="library-container">
    <h1>ðŸ“š My Book Library</h1>
    <div id="library-controls">
      <button onclick="toggleLibrary(false)">Back to Reader</button>
    </div>
    <div id="library">Loading books...</div>
  </div>

  <!-- READER CONTAINER -->
  <div id="reader-container">
    <div id="toolbar">
      <button id="menu-toggle" title="Main Menu">â˜°</button>
      <button id="toc-toggle"   title="Table of Contents">ðŸ“–</button>
      <button id="bookmark-toggle" title="Toggle Bookmark">â˜†</button>
      <button id="bookmark-dropdown" title="Bookmarks">ðŸ”–</button>
      <button id="settings-toggle"  title="Read Settings">Aa</button>
      <button id="theme-toggle"     title="Toggle Night Mode">ðŸŒ™</button>

      <!-- Kindleâ€‘style Chapter/Page display -->
      <div id="page-location"></div>
    </div>

    <!-- Bookmark Panel -->
    <div id="bookmark-panel"></div>

    <!-- Slideâ€‘out Menu & Backdrop -->
    <div id="menu-backdrop"></div>
    <div id="expanded-menu">
      <button class="close-menu" onclick="toggleMenu('menu')">Ã—</button>
      <div id="book-card">
        <img id="cover" alt="Book Cover" />
        <div id="book-title"></div>
        <div id="book-author"></div>
        <div id="contact-image"></div>
      </div>
      <button class="menu-button" onclick="toggleLibrary(true)">Library</button>
    </div>

    <!-- TOC Panel -->
    <div id="toc-panel"></div>

    <!-- Settings Modal -->
    <div id="settings-modal">
      <button class="close-settings" onclick="toggleMenu('settings')">Ã—</button>
      <h3>Reading Settings</h3>
      <!-- â€¦font, size, mode, theme controlsâ€¦ -->
    </div>

    <!-- ePub Viewer -->
    <div id="viewer">
      <div id="tap-left"></div>
      <div id="tap-right"></div>
      <div id="gesture-left"></div>
      <div id="gesture-right"></div>
    </div>

    <!-- Progress / Continue Bars -->
    <div id="progress-bar"></div>
    <div id="continue-bar">Continue</div>
  </div>
</body>
</html>
